{"version":3,"file":"FileInput.jsx","sourceRoot":"","sources":["FileInput.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useState } from 'react';\n\nimport cn from 'classnames';\nimport { FieldError, FieldErrorsImpl } from 'react-hook-form';\nimport { IoAttachOutline, IoCloseCircleOutline } from 'react-icons/io5';\n\ninterface FileInputProps {\n  id: string;\n  fieldName?: string;\n  required?: boolean;\n  variant?: 'small' | 'full';\n  isEditable?: boolean;\n  register?: any;\n  error?: FieldError | FieldErrorsImpl;\n\n  [x: string]: any;\n}\n\nexport default function FileInput({\n  id,\n  fieldName,\n  required,\n  variant = 'full',\n  isEditable = true,\n\n  register,\n  error,\n  ...attributes\n}: FileInputProps) {\n  const [isEditMode, setIsEditMode] = useState(false);\n  return (\n    <div\n      className={cn(\n        variant === 'full' ? 'col-span-2' : 'col-span-1',\n        'w-full flex flex-col',\n      )}\n    >\n      {fieldName &&\n        (fieldName.split('\\n').length == 1 ? (\n          <label\n            htmlFor={id}\n            className={'block pb-2 text-sm font-semibold text-gray-800'}\n          >\n            {fieldName} {required && <span className=\"text-red-500\">*</span>}\n          </label>\n        ) : (\n          <label\n            htmlFor={id}\n            className={\n              'flex justify-between pb-2 text-xs font-semibold text-gray-800'\n            }\n          >\n            <p>{fieldName.split('\\n')[0]}</p>\n            <p> {fieldName.split('\\n')[1]} </p>\n          </label>\n        ))}\n      {attributes.defaultFile ? (\n        <>\n          {isEditMode ? (\n            <input\n              type=\"file\"\n              id={id}\n              className={cn(\n                error\n                  ? 'placeholder-red-300 text-red-400 border-red-300'\n                  : 'placeholder-gray-500 text-gray-800 border-gray-300',\n                'border px-3 py-3 bg-transparent rounded text-sm focus:outline-none focus:border-primary-500 h-[46px] w-full flex items-center',\n              )}\n              {...attributes}\n              {...register}\n            />\n          ) : (\n            <div\n              className={cn(\n                'placeholder-gray-500 text-gray-800 border-gray-300',\n                'border w-full px-3 py-3 bg-transparent rounded text-xs focus:outline-none focus:border-primary-500 flex flex-row items-center',\n              )}\n            >\n              <IoAttachOutline className=\"inline-block w-5 h-5 mr-2\" />\n              {attributes.defaultFile?.name || attributes.defaultFile?.url ? (\n                <span\n                  className=\"pr-2 truncate cursor-pointer line-clamp-1 hover:underline\"\n                  onClick={() =>\n                    window.open(attributes.defaultFile?.url, '_blank')\n                  }\n                >\n                  <p className=\"truncate\">\n                    {attributes.defaultFile?.name ||\n                      attributes.defaultFile?.url}\n                  </p>\n                </span>\n              ) : (\n                <span className=\"cursor-pointer text-primary-400 hover:text-primary-600 line-clamp-1\">\n                  Document Ã  joindre\n                </span>\n              )}\n              {isEditable && (\n                <div\n                  onClick={() => setIsEditMode(!isEditMode)}\n                  className=\"flex items-center self-end justify-center px-4 py-1 ml-auto text-xs leading-none border cursor-pointer text-primary-500 rounded-md border-primary-500 hover:bg-primary-500 hover:text-white transition-colors duration-300\"\n                >\n                  Edit\n                </div>\n              )}\n            </div>\n          )}\n        </>\n      ) : (\n        <input\n          type=\"file\"\n          id={id}\n          className={cn(\n            error\n              ? 'placeholder-red-300 text-red-400 border-red-300'\n              : 'placeholder-gray-500 text-gray-800 border-gray-300',\n            'border px-3 py-3 bg-transparent rounded text-sm focus:outline-none focus:border-primary-500',\n          )}\n          {...attributes}\n          {...register}\n        />\n      )}\n      {error && (\n        <div className=\"flex items-center justify-between pt-1 text-red-400\">\n          <p className=\"text-xs\">{'error.message'}</p>\n          <IoCloseCircleOutline className=\"w-4 h-4 m-0\" />\n        </div>\n      )}\n    </div>\n  );\n}\n"]}